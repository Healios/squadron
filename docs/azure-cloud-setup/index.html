<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Azure setup · Squadron</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Azure resources are using the [Azure Management API](https://docs.microsoft.com/en-us/rest/api/azure/)"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Azure setup · Squadron"/><meta property="og:type" content="website"/><meta property="og:url" content="https://swisslife-oss.github.io/squadron/"/><meta property="og:description" content="Azure resources are using the [Azure Management API](https://docs.microsoft.com/en-us/rest/api/azure/)"/><meta property="og:image" content="https://swisslife-oss.github.io/squadron/img/logo_sl_oss.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://swisslife-oss.github.io/squadron/img/logo_sl_oss.svg"/><link rel="shortcut icon" href="/squadron/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css"/><link rel="alternate" type="application/atom+xml" href="https://swisslife-oss.github.io/squadron/blog/atom.xml" title="Squadron Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://swisslife-oss.github.io/squadron/blog/feed.xml" title="Squadron Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/squadron/js/scrollSpy.js"></script><link rel="stylesheet" href="/squadron/css/prism.css"/><link rel="stylesheet" href="/squadron/css/main.css"/><script src="/squadron/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/squadron/"><img class="logo" src="/squadron/img/logo_sl_squadron_horizontal.png" alt="Squadron"/><h2 class="headerTitleWithLogo">Squadron</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/squadron/docs/introduction" target="_self">Docs</a></li><li class=""><a href="https://swissLife-oss.github.io/blog" target="_blank">Blog</a></li><li class=""><a href="https://github.com/SwissLife-OSS/squadron" target="_blank">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Azure Cloud Providers</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/squadron/docs/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/quickstart">Quickstart</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/basic-concept">Basic Concept</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/container-options">Container Options</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/multi">Multiple resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Container Providers</h3><ul class=""><li class="navListItem"><a class="navItem" href="/squadron/docs/mongodb">MongoDB</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/mongodb-rs">MongoDB Replica Set</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/sqlserver">SQL Server</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/elasticsearch">Elasticsearch</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/postgresql">PostgreSQL</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/redis">Redis</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/rabbitmq">RabbitMQ</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/azure-storage">Azure Storage</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/generic-container">Generic</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/compose">Compose</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Azure Cloud Providers</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/squadron/docs/azure-cloud-setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/squadron/docs/azure-cloud-servicebus">ServiceBus</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/SwissLife-OSS/squadron-docs/edit/master/docs/azure-cloud-setup.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Azure setup</h1></header><article><div><span><p>Azure resources are using the <a href="https://docs.microsoft.com/en-us/rest/api/azure/">Azure Management API</a>
to provision resources in Azure and delete them when test are completed.</p>
<blockquote>
<p>Be aware that provisioning resources in Azure will cost you some $.
Also it can happen that resources can not be automatically removed, in this case it is your
responsibility to clean up unused resources. We recommend to use a dedicated resource group
to run you Squadron tests.</p>
</blockquote>
<p>You can use the <a href="https://azure.microsoft.com/en-us/pricing/calculator">pricing calculator</a>
the estimate pricings. But for testing we should always try to use small SKU's and use the resource
only for the time of the test run. So costs should stay very low.</p>
<p>Squadron uses a service principal with secret to authenticate against the management api.
To use an azure based resource you first need to create a principal and configure it for squadron.</p>
<ol>
<li><p>Create a <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal">service principal</a></p></li>
<li><p>Create a <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/manage-resource-groups-portal">resource group</a> that you want to use for your tests.</p></li>
<li><p>Assign the created service principal owner permissions to the resource group.</p></li>
<li><p><a href="/squadron/docs/configuration#azure-cloud-configuration">Configure</a> the principal and the resource group in your test project.</p></li>
</ol>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"Squadron"</span>: {
    <span class="hljs-attr">"Azure"</span>: {
      <span class="hljs-attr">"SubscriptionId"</span>: <span class="hljs-string">"ac78e464-c99d-462f-a617-c29975c59e1c"</span>,
      <span class="hljs-attr">"ResourceGroup"</span>: <span class="hljs-string">"squadron-samples"</span>,
      <span class="hljs-attr">"DefaultLocation"</span>: <span class="hljs-string">"switzerlandnorth"</span>,
      <span class="hljs-attr">"Credentials"</span>: {
        <span class="hljs-attr">"TenantId"</span>: <span class="hljs-string">"b6677038-5309-4040-a59e-2efa08c65e41"</span>,
        <span class="hljs-attr">"ClientId"</span>: <span class="hljs-string">"7106b86f-dcc0-4e55-98c0-a0ffc112bf3a"</span>,
        <span class="hljs-attr">"Secret"</span>: <span class="hljs-string">"SECRET"</span>
      }
    }
  }
}
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 11/11/2019 by Florian Rohrer</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/squadron/docs/compose"><span class="arrow-prev">← </span><span>Compose</span></a><a class="docs-next button" href="/squadron/docs/azure-cloud-servicebus"><span class="function-name-prevnext">ServiceBus</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h3>Community</h3><a href="https://swissLife-oss.github.io/cla">Contributor License Agreements</a><a href="https://swissLife-oss.github.io/coc">Code of Conduct</a></div></section><a href="https://swissLife-oss.github.io" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/squadron/img/logo_sl_oss_inverted.svg" alt="Swiss Life OSS" height="45"/><span class="projectTitleInverted">Swiss Life | OSS</span></a><section class="copyright">Copyright © 2021 Swiss Life Developers</section></footer></div></body></html>